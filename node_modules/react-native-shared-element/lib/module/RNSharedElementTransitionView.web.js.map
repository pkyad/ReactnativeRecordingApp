{"version":3,"sources":["RNSharedElementTransitionView.web.tsx"],"names":["React","View","findNodeHandle","RNSharedElementTransition","RNSharedElementTransitionView","state","transition","onSetRef","ref","element","destroy","props","startNode","endNode","animation","resize","align","nodePosition","setNode","node","ancestor","didSetProps","Component"],"mappings":"ocAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OAASC,IAAT,CAAeC,cAAf,KAAqC,cAArC,CACA,OACEC,yBADF,KAMO,OANP,CA2BA,UAAaC,CAAAA,6BAAb,0dAIEC,KAJF,CAIU,CACNC,UAAU,CAAE,GAAIH,CAAAA,yBAAJ,EADN,CAJV,OAoCUI,QApCV,CAoCqB,SAACC,GAAD,CAAc,CAC/B,GAAI,CAACA,GAAL,CAAU,OACV,GAAMC,CAAAA,OAAY,CAAGD,GAAG,CAAGN,cAAc,CAACM,GAAD,CAAjB,CAAyB,IAAjD,CAF+B,GAGvBF,CAAAA,UAHuB,CAGR,MAAKD,KAHG,CAGvBC,UAHuB,CAI/BA,UAAU,CAACG,OAAX,CAAqBA,OAArB,CACD,CAzCH,8HA4B0B,CACtB,MAAO,MAAP,CACD,CA9BH,mEAgCyB,CACrB,KAAKJ,KAAL,CAAWC,UAAX,CAAsBI,OAAtB,GACD,CAlCH,uCA2CW,CAEP,MAAO,qBAAC,IAAD,EAAM,GAAG,CAAE,KAAKH,QAAhB,iDAAP,CACD,CA9CH,4EAQkCI,KARlC,CAQoDN,KARpD,CAQsE,IAEhEO,CAAAA,SAFgE,CAQ9DD,KAR8D,CAEhEC,SAFgE,CAGhEC,OAHgE,CAQ9DF,KAR8D,CAGhEE,OAHgE,CAIhEC,SAJgE,CAQ9DH,KAR8D,CAIhEG,SAJgE,CAKhEC,MALgE,CAQ9DJ,KAR8D,CAKhEI,MALgE,CAMhEC,KANgE,CAQ9DL,KAR8D,CAMhEK,KANgE,CAOhEC,YAPgE,CAQ9DN,KAR8D,CAOhEM,YAPgE,IAS1DX,CAAAA,UAT0D,CAS3CD,KAT2C,CAS1DC,UAT0D,CAUlEA,UAAU,CAACY,OAAX,CAAmB,KAAnB,CAA0BN,SAAS,CAACO,IAApC,CAA0CP,SAAS,CAACQ,QAApD,EACAd,UAAU,CAACY,OAAX,CAAmB,IAAnB,CAAyBL,OAAO,CAACM,IAAjC,CAAuCN,OAAO,CAACO,QAA/C,EACAd,UAAU,CAACW,YAAX,CAA0BA,YAA1B,CACAX,UAAU,CAACQ,SAAX,CAAuBA,SAAvB,CACAR,UAAU,CAACS,MAAX,CAAoBA,MAApB,CACAT,UAAU,CAACU,KAAX,CAAmBA,KAAnB,CACAV,UAAU,CAACe,WAAX,GACA,MAAO,KAAP,CACD,CA1BH,2CAAmDrB,KAAK,CAACsB,SAAzD","sourcesContent":["import * as React from 'react';\nimport { View, findNodeHandle } from 'react-native';\nimport {\n  RNSharedElementTransition,\n  RNSharedElementNodeConfig,\n  RNSharedElementAnimation,\n  RNSharedElementResize,\n  RNSharedElementAlign,\n} from './web';\n\ntype PropsType = {\n  startNode: {\n    node: RNSharedElementNodeConfig | null;\n    ancestor: RNSharedElementNodeConfig | null;\n  };\n  endNode: {\n    node: RNSharedElementNodeConfig | null;\n    ancestor: RNSharedElementNodeConfig | null;\n  };\n  nodePosition: number | any;\n  animation: RNSharedElementAnimation;\n  resize: RNSharedElementResize;\n  align: RNSharedElementAlign;\n  //onMeasure?: (event: SharedElementOnMeasureEvent) => void;\n};\ntype StateType = {\n  transition: RNSharedElementTransition;\n};\n\nexport class RNSharedElementTransitionView extends React.Component<\n  PropsType,\n  StateType\n> {\n  state = {\n    transition: new RNSharedElementTransition(),\n  };\n\n  static getDerivedStateFromProps(props: PropsType, state: StateType) {\n    const {\n      startNode,\n      endNode,\n      animation,\n      resize,\n      align,\n      nodePosition,\n    } = props;\n    const { transition } = state;\n    transition.setNode(false, startNode.node, startNode.ancestor);\n    transition.setNode(true, endNode.node, endNode.ancestor);\n    transition.nodePosition = nodePosition;\n    transition.animation = animation;\n    transition.resize = resize;\n    transition.align = align;\n    transition.didSetProps();\n    return null;\n  }\n\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  componentWillUnmount() {\n    this.state.transition.destroy();\n  }\n\n  private onSetRef = (ref: any) => {\n    if (!ref) return;\n    const element: any = ref ? findNodeHandle(ref) : null;\n    const { transition } = this.state;\n    transition.element = element;\n  };\n\n  render() {\n    // console.log(\"RNSharedElementTransitionView.render\");\n    return <View ref={this.onSetRef} />;\n  }\n}\n"]}